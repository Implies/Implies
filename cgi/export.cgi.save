#!/usr/bin/perl

use strict;
use DBI;

my $dbh = DBI->connect ("DBI:mysql:Zoo",
                        "test", "testpass",
                        { RaiseError => 1, PrintError => 0});

my $sth = $dbh->prepare ("SELECT name, category FROM animal");
$sth->execute ();
print "<?xml version=\"1.0\"?>\n";
print "<dataset>\n";
while (my ($name, $category) = $sth->fetchrow_array ())
{
    print " <row>\n";
    print "  <name>$name</name>\n";
    print "  <category>$category</category>\n";
    print " </row>\n";
}
$dbh->disconnect ();
print "</dataset>\n";
